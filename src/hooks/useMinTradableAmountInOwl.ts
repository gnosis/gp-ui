import { useEffect } from 'react'
import useSafeState from './useSafeState'
import { dexPriceEstimatorApi } from 'apps/gp-v1/api'
import BigNumber from 'bignumber.js'

export function useMinTradableAmountInOwl(networkId: number): null | BigNumber {
  const [minAmount, setMinAmount] = useSafeState<null | BigNumber>(null)

  useEffect(() => {
    dexPriceEstimatorApi.getMinOrderAmounInOWL(networkId).then(setMinAmount)
  }, [networkId, setMinAmount])

  return minAmount
}
